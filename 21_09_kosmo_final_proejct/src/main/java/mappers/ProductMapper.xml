<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ProductDAO">

   
   <select id="getProductList" resultType="product" parameterType="hashmap">
      
      select * from CMIS_PRO
      <choose>
         <when test="product_name != null">
            where product_name like '%${keyword}%'
         </when>
         <when test="product_hot_sale_price != null">
            where product_hot_sale_price like '%${keyword}%'
         </when>
      </choose>
      order by product_last_average_price
   </select>


   <!-- 카운트  -->
   <select id="getCountProduct" resultType="int" parameterType="hashmap">
   select count(*) from CMIS_PRO
      <choose>
         <when test="product_name != null">
            where product_name like '%${keyword}%'
         </when>
         <when test="product_hot_sale_price != null">
            where title like '%${keyword}%'
         </when>
      </choose>
      order by product_last_average_price
   </select>
   
   
</mapper>